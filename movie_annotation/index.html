<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title id="title">Classic Movie</title>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>

<h1 id="title">Classic Movie</h1>

<video src="https://www.cs.tufts.edu/comp/20/classic.mp4" id="classic_video" controls></video>
<div id="movie_quotes"></div>

<script>

document.addEventListener('DOMContentLoaded', function () {

    var video = document.getElementById("classic_video");
    var iterator = 0;
    quotes = ["Igor: DR. FRANKENSTEIN?!?!?", 
				  "Dr. Frederick Frankenstein: Frokensteen.", 
				  "Igor: You're putting me on.", 
				  "Dr. Frederick Frankenstein: No, it pronounced, \"Frokensteen\".",
				  "Igor: Do you also say Froaderick?", 
				  "Dr. Frederick Frankenstein: No . . . \"Frederick.\"", 
				  "Igor: Well, why isn't it 'Froaderick Frokensteen'?", 
				  "Dr. Frederick Frankenstein: It isn't, it's \"Frederick Frokensteen\"",
				  "Igor: I see.", 
				  "Dr. Frederick Frankenstein: You must be Igor. [He pronounces it ee-gor.]",
				  "Igor: No, it's pronounced \"eye-gor.\"",
				  "Dr. Frederick Frankenstein: But they told me it was \"ee-gor\"...",
				  "Igor: Well, they were wrong then, weren't they?", 
				  "Dr. Frederick Frankenstein: Uh, you were sent here by Herr Falkstein, weren't you?", 
				  "Igor: Yes. My grandfather used to work for your grandfather.", 
				  "Dr. Frederick Frankenstein: How nice.", 
				  "Igor: Of course the rates have gone up.", 
				  "Dr. Frederick Frankenstein: Of course, of course, I'm sure we'll get along splendidly. Oh, I uh, you know I don't mean to embarrass you, but I'm rather a brilliant surgeon. Perhaps I can help you with that hump.", 
				  "Igor: What hump?"];
	times = [24, 31, 35, 37, 40, 42, 44, 47, 50, 52, 54, 57, 59, 61, 65, 71, 72, 75];


	video.addEventListener("timeupdate", function() { 
		curr_time = Math.round(video.currentTime);
		console.log(curr_time);
		if (curr_time == times[iterator]) {
			console.log("FOUND MATCH");
			var output = document.getElementById("movie_quotes");
			output.innerHTML = quotes[iterator];
			iterator = iterator + 1;
		}

	}, true);

});

</script>
</body>
</html>	

